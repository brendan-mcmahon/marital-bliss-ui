<app-loading *ngIf="loading" [text]="'Sending Email...'"></app-loading>

<div class="section">
  <div *ngIf="emailInput" class="container">
  <h1>Request a Password Reset</h1>
  <form (ngSubmit)="requestReset()" #registrationForm="ngForm">

  <p *ngIf="errorMessage" class="error-message">{{errorMessage}}</p>

  <div class="form-group">
    <label for="email">Email</label>
    <input appFocus type="text" class="form-control" id="email" name="email" [(ngModel)]="email" required>
  </div>

  <div class="buttons">
  <button class="mb-btn-primary" type="submit">Submit</button>
  <button class="mb-btn-secondary" type="button" (click)="emitCancel()">Back to Login</button>
  </div>
  </form>
  </div>

  <div *ngIf="codeInput" class="container">
    <h1>Update your password</h1>
    <p>Check your email for a reset code. Then create a new password!</p>
    <form (ngSubmit)="submitRequest()" #registrationForm="ngForm">

    <p *ngIf="errorMessage" class="error-message">{{errorMessage}}</p>

    <div class="form-group">
      <label for="code">Code</label>
      <input appFocus type="text" class="form-control" id="code" name="code" [(ngModel)]="request.code" required>
    </div>

    <div class="form-group">
    <label for="model.password">New Password</label>
    <input type="password" class="form-control" id="password" name="password" [(ngModel)]="request.password" required>
    </div>

    <div class="form-group">
      <label for="model.password">Confirm Password</label>
      <input type="password" class="form-control" id="password" name="password" [(ngModel)]="request.passwordConfirmation" required>
    </div>

    <div class="buttons">
    <button class="mb-btn-primary" type="submit">Submit</button>
    <button class="mb-btn-secondary" type="button" (click)="emitCancel()">Back to Login</button>
    </div>
    </form>
    </div>
</div>
